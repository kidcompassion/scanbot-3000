(this["webpackJsonpscanbot-3000"]=this["webpackJsonpscanbot-3000"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),s=(a(15),a(2)),i=a(3),l=a(6),d=a(4),u=a(5),m=o.a.createContext("app");n.Component;var h,f=a(7),p=a(1),v=a.n(p),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).videoOn=function(){navigator.mediaDevices.getUserMedia({video:{width:1280,height:720}}).then((function(e){a.videoTag.current.srcObject=e,a.setState({localstream:e})})).catch(console.log)},a.takeSnapshot=function(){var e,t=Object(f.a)(a),n=document.querySelector("img")||document.createElement("img"),o=document.querySelector("video"),r=o.offsetWidth,c=o.offsetHeight,s=document.querySelector(".snapshot");(e=e||document.createElement("canvas")).width=r,e.height=c,e.getContext("2d").drawImage(o,0,0,r,c),n.src=e.toDataURL("image/jpeg",1),s.appendChild(n),n.getAttribute("src"),v.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#scanner-container"),constraints:{width:480,height:320,facingMode:"environment"}},decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader"],debug:{showCanvas:!0,showPatches:!0,showFoundPatches:!0,showSkeleton:!0,showLabels:!0,showPatchLabels:!0,showRemainingPatchLabels:!0,boxFromPatches:{showTransformed:!0,showTransformedBox:!0,showBB:!0}}}},(function(e){e?console.log(e):(console.log("Initialization finished. Ready to start"),v.a.start(),t.setState({scannerIsRunning:!0}))})),v.a.onProcessed((function(e){var t=v.a.canvas.ctx.overlay,a=v.a.canvas.dom.overlay;void 0!==e&&(e.boxes&&(t.clearRect(0,0,parseInt(a.getAttribute("width")),parseInt(a.getAttribute("height"))),e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){v.a.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})}))),e.box&&v.a.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&v.a.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))})),v.a.onDetected((function(e){document.querySelector(".component--sensor").style.display="none",document.querySelector(".snapshot img").style.display="block",console.log("Barcode detected and processed : ["+e.codeResult.code+"]",e),v.a.stop()}))},a.videoOff=function(){a.state.localstream.getTracks()[0].stop(),console.log("Vid off"),v.a.stop()},a.state={localstream:null,videoStream:null,scannerIsRunning:!1},a.videoTag=o.a.createRef(),a.takeSnapshot=a.takeSnapshot.bind(Object(f.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement("div",{id:"interactive",className:"viewport snapshot"},o.a.createElement("video",{className:"component--sensor",ref:this.videoTag,autoPlay:!0}),o.a.createElement("div",{className:"imgSnapshot"}))),o.a.createElement("div",{className:"col-8 mx-auto"},o.a.createElement("button",{onClick:this.videoOn},"Turn on Camera"),o.a.createElement("button",{onClick:this.takeSnapshot},"Take snapshot"),o.a.createElement("button",{onClick:this.videoOff},"Turn off camera")))}}]),t}(o.a.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-primary",role:"alert"},"Please allow the browser to user your camera")}}]),t}(o.a.Component),w=(h=b,function(e){return o.a.createElement(m.Consumer,null,(function(t){return o.a.createElement(h,Object.assign({},e,{context:t}))}))}),y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"component--cameraui container"},o.a.createElement(g,null),o.a.createElement(w,null))}}]),t}(o.a.Component);a(16);var O=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.6c9e278d.chunk.js.map