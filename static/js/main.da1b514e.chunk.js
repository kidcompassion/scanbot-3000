(this["webpackJsonpscanbot-3000"]=this["webpackJsonpscanbot-3000"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),s=a.n(r),c=(a(15),a(2)),i=a(3),l=a(6),u=a(4),d=a(5),m=o.a.createContext("app");n.Component;var h,f=a(7),p=a(1),v=a.n(p),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).videoOn=function(){navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},facingMode:"environment"}).then((function(e){a.videoTag.current.srcObject=e,a.setState({localstream:e})})).catch(console.log)},a.takeSnapshot=function(){var e,t=Object(f.a)(a),n=document.querySelector("img")||document.createElement("img"),o=document.querySelector("video"),r=o.offsetWidth,s=o.offsetHeight,c=document.querySelector(".snapshot");(e=e||document.createElement("canvas")).width=r,e.height=s,e.getContext("2d").drawImage(o,0,0,r,s),n.src=e.toDataURL("image/jpeg",1),c.appendChild(n),n.getAttribute("src"),v.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#scanner-container"),constraints:{width:480,height:320,facingMode:"environment"}},decoder:{readers:["code_39_reader","code_128_reader","ean_reader","ean_8_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader"],debug:{showCanvas:!0,showPatches:!0,showFoundPatches:!0,showSkeleton:!0,showLabels:!0,showPatchLabels:!0,showRemainingPatchLabels:!0,boxFromPatches:{showTransformed:!0,showTransformedBox:!0,showBB:!0}}}},(function(e){e?console.log(e):(console.log("Initialization finished. Ready to start"),v.a.start(),t.setState({scannerIsRunning:!0}))})),v.a.onProcessed((function(e){var t=v.a.canvas.ctx.overlay,a=v.a.canvas.dom.overlay;void 0!==e&&(e.boxes&&(t.clearRect(0,0,parseInt(a.getAttribute("width")),parseInt(a.getAttribute("height"))),e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){v.a.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})}))),e.box&&v.a.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&v.a.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))})),v.a.onDetected((function(e){document.querySelector(".component--sensor").style.display="none",document.querySelector(".snapshot img").style.display="block",t.setState({scanResults:e}),console.log(t.state),v.a.stop()}))},a.videoOff=function(){a.state.localstream.getTracks()[0].stop(),console.log("Vid off"),v.a.stop()},a.state={localstream:null,videoStream:null,scannerIsRunning:!1,scanResults:null},a.videoTag=o.a.createRef(),a.takeSnapshot=a.takeSnapshot.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement("div",{id:"interactive",className:"viewport snapshot"},o.a.createElement("video",{className:"component--sensor",ref:this.videoTag,autoPlay:!0}),o.a.createElement("div",{className:"imgSnapshot"})),o.a.createElement("div",{className:"col-12 mt-4 text-center"},o.a.createElement("button",{onClick:this.videoOn},"Turn on Camera"),o.a.createElement("button",{onClick:this.takeSnapshot},"Take snapshot"),o.a.createElement("button",{onClick:this.videoOff},"Turn off camera"))),o.a.createElement("div",{className:"col-6"},o.a.createElement("h2",null,"Results"),this.state.scanResults?o.a.createElement("p",null,"Code: ",this.state.scanResults.codeResult.code):"",this.state.scanResults?o.a.createElement("p",null,"Format: ",this.state.scanResults.codeResult.format):"",this.state.scanResults?o.a.createElement("p",null,"Start: ",this.state.scanResults.codeResult.start):"",this.state.scanResults?o.a.createElement("p",null,"End: ",this.state.scanResults.codeResult.end):""))}}]),t}(o.a.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-primary text-center",role:"alert"},"Please allow the browser to user your camera")}}]),t}(o.a.Component),w=(h=g,function(e){return o.a.createElement(m.Consumer,null,(function(t){return o.a.createElement(h,Object.assign({},e,{context:t}))}))}),E=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"component--cameraui container"},o.a.createElement(b,null),o.a.createElement(w,null))}}]),t}(o.a.Component);a(16);var y=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.da1b514e.chunk.js.map